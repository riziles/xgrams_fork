import{S as ke,i as Ee,s as qe,k as E,q as W,a as Z,l as q,m as p,r as G,h as u,c as x,n as o,X as nt,b as D,E as c,N as ue,af as et,_ as Y,V as Ce,ag as ne,D as at,F as it,G as ot,H as ut,g as me,d as ye,e as be,w as pe,p as se,a3 as $e,ac as T,ad as O,o as ct,y as we,z as Me,A as Ie,u as ge,B as De,P as ft,Z as Oe}from"../chunks/index.858362d9.js";import{m as ht,O as dt,e as _t,f as de}from"../chunks/data.5b1b245b.js";function Ne(t,e,n){const s=t.slice();return s[2]=e[n],s}function Ue(t,e,n){const s=t.slice();return s[5]=e[n],s}function Ze(t){let e,n,s,l,r,a;return{c(){e=E("button"),n=W(t[5]),this.h()},l(i){e=q(i,"BUTTON",{"data-key":!0,class:!0,name:!0,"aria-label":!0});var f=p(e);n=G(f,t[5]),f.forEach(u),this.h()},h(){o(e,"data-key",t[5]),o(e,"class",s=ne(t[0][t[5]])+" svelte-5dfhiz"),o(e,"name","key"),e.value=t[5],o(e,"aria-label",l=t[5]+" "+(t[1][t[5]]||""))},m(i,f){D(i,e,f),c(e,n),r||(a=ue(e,"click",et(tt)),r=!0)},p(i,f){f&1&&s!==(s=ne(i[0][i[5]])+" svelte-5dfhiz")&&o(e,"class",s),f&2&&l!==(l=i[5]+" "+(i[1][i[5]]||""))&&o(e,"aria-label",l)},d(i){i&&u(e),r=!1,a()}}}function xe(t){let e,n,s=t[2],l=[];for(let r=0;r<s.length;r+=1)l[r]=Ze(Ue(t,s,r));return{c(){e=E("div");for(let r=0;r<l.length;r+=1)l[r].c();n=Z(),this.h()},l(r){e=q(r,"DIV",{class:!0});var a=p(e);for(let i=0;i<l.length;i+=1)l[i].l(a);n=x(a),a.forEach(u),this.h()},h(){o(e,"class","row svelte-5dfhiz")},m(r,a){D(r,e,a);for(let i=0;i<l.length;i+=1)l[i].m(e,null);c(e,n)},p(r,a){if(a&3){s=r[2];let i;for(i=0;i<s.length;i+=1){const f=Ue(r,s,i);l[i]?l[i].p(f,a):(l[i]=Ze(f),l[i].c(),l[i].m(e,n))}for(;i<l.length;i+=1)l[i].d(1);l.length=s.length}},d(r){r&&u(e),Ce(l,r)}}}function pt(t){let e,n,s,l,r,a,i,f,v,g=["`1234567890-=","qwertyuiop[]\\","asdfghjkl;'","zxcvbnm,."],k=[];for(let b=0;b<4;b+=1)k[b]=xe(Ne(t,g,b));return{c(){e=E("div"),n=E("button"),s=W("enter"),l=Z(),r=E("button"),a=W("back"),i=Z();for(let b=0;b<4;b+=1)k[b].c();this.h()},l(b){e=q(b,"DIV",{class:!0});var m=p(e);n=q(m,"BUTTON",{"data-key":!0,class:!0});var h=p(n);s=G(h,"enter"),h.forEach(u),l=x(m),r=q(m,"BUTTON",{"data-key":!0,name:!0,class:!0});var _=p(r);a=G(_,"back"),_.forEach(u),i=x(m);for(let $=0;$<4;$+=1)k[$].l(m);m.forEach(u),this.h()},h(){o(n,"data-key","enter"),n.disabled=!He,o(n,"class","svelte-5dfhiz"),nt(n,"selected",He),o(r,"data-key","backspace"),o(r,"name","key"),r.value="backspace",o(r,"class","svelte-5dfhiz"),o(e,"class","keyboard svelte-5dfhiz")},m(b,m){D(b,e,m),c(e,n),c(n,s),c(e,l),c(e,r),c(r,a),c(e,i);for(let h=0;h<4;h+=1)k[h].m(e,null);f||(v=ue(r,"click",et(tt)),f=!0)},p(b,[m]){if(m&3){g=["`1234567890-=","qwertyuiop[]\\","asdfghjkl;'","zxcvbnm,."];let h;for(h=0;h<4;h+=1){const _=Ne(b,g,h);k[h]?k[h].p(_,m):(k[h]=xe(_),k[h].c(),k[h].m(e,null))}for(;h<4;h+=1)k[h].d(1)}},i:Y,o:Y,d(b){b&&u(e),Ce(k,b),f=!1,v()}}}let He=!0;function tt(t){t.target.getAttribute("data-key")}function vt(t,e,n){let s,l;return n(0,s={}),n(1,l={}),[s,l]}class gt extends ke{constructor(e){super(),Ee(this,e,vt,pt,qe,{})}}function Ke(t,e,n){const s=t.slice();return s[3]=e[n],s}function Re(t){let e,n=t[3].character+"",s;return{c(){e=E("span"),s=W(n),this.h()},l(l){e=q(l,"SPAN",{id:!0,style:!0,class:!0});var r=p(e);s=G(r,n),r.forEach(u),this.h()},h(){o(e,"id",t[3].d),se(e,"left",t[3].x+"%"),se(e,"top",t[3].y+"%"),se(e,"transform","scale("+t[3].r+")"),o(e,"class","svelte-5tira4")},m(l,r){D(l,e,r),c(e,s)},p:Y,d(l){l&&u(e)}}}function mt(t){let e,n=ae,s=[];for(let l=0;l<n.length;l+=1)s[l]=Re(Ke(t,n,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=be()},l(l){for(let r=0;r<s.length;r+=1)s[r].l(l);e=be()},m(l,r){for(let a=0;a<s.length;a+=1)s[a].m(l,r);D(l,e,r)},p(l,r){if(r&0){n=ae;let a;for(a=0;a<n.length;a+=1){const i=Ke(l,n,a);s[a]?s[a].p(i,r):(s[a]=Re(i),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(l){Ce(s,l),l&&u(e)}}}function yt(t){let e,n;const s=t[1].default,l=at(s,t,t[0],null),r=l||mt(t);return{c(){e=E("div"),r&&r.c()},l(a){e=q(a,"DIV",{});var i=p(e);r&&r.l(i),i.forEach(u)},m(a,i){D(a,e,i),r&&r.m(e,null),t[2](e),n=!0},p(a,[i]){l&&l.p&&(!n||i&1)&&it(l,s,a,a[0],n?ut(s,a[0],i,null):ot(a[0]),null)},i(a){n||(me(r,a),n=!0)},o(a){ye(r,a),n=!1},d(a){a&&u(e),r&&r.d(a),t[2](null)}}}let Xe=["ðŸ¥³","ðŸª…","ðŸŽ‰","ðŸŽŠ","âœ¨","ðŸŽ­","ðŸ¤©","ðŸ«§","ðŸ¥³","ðŸ¥°","â¤ï¸â€ðŸ”¥","ðŸŽ","ðŸ’«","ðŸŒŸ","ðŸ£","ðŸŒŸ","ðŸŒœ","ðŸŒ›","ðŸŒ","âš¡"],Je=1e4,bt=3e3,kt=3e3,ae=new Array(97).fill("ðŸ¥³").map((t,e)=>({character:Xe[e%Xe.length],x:Math.random()*100,y:-20-Math.random()*100,r:.1+Math.random()*1.5,d:"emoj"+e,o:0,e:null})).sort((t,e)=>t.r-e.r);function Et(){ae=ae.map(t=>{var e=document.getElementById(t.d);return t.e=e,t})}let Qe=!1,Le;function qt(){Qe||(Et(),Qe=!0);let t=!1,e,n;function s(l){e===void 0&&(e=l);let r=l-e,a=0;r<bt?a=.005:r>Je-kt?a=-.01:a=0,n!==l&&(ae=ae.map(i=>(i.y+=.4*i.r,i.y>120&&(i.x=Math.random()*100,i.y=-20,i.e.style.left=i.x+"%"),i.e.style.top=i.y+"%",i.o<1&&(a>1e-5?i.o=Math.min(i.o+a,1):a<-1e-5?i.o=Math.max(i.o+a,0):i.o=Math.min(i.o+a,1),i.e.style.opacity=i.o),i))),r<Je?(n=l,t||(Le=window.requestAnimationFrame(s))):(t=!0,lt())}window.requestAnimationFrame(s)}function lt(){let t=!0;ae=ae.map(e=>(e.o>0&&(e.o=Math.max(e.o-.01,0),e.e.style.opacity=e.o,t=!1),e)),t?cancelAnimationFrame(Le):t||(Le=window.requestAnimationFrame(lt))}function Ct(t,e,n){let{$$slots:s={},$$scope:l}=e;function r(a){pe[a?"unshift":"push"](()=>{})}return t.$$set=a=>{"$$scope"in a&&n(0,l=a.$$scope)},[l,s,r]}class $t extends ke{constructor(e){super(),Ee(this,e,Ct,yt,qe,{})}}function wt(t){let e,n,s,l,r,a,i,f,v,g,k,b,m,h;return{c(){e=E("audio"),s=Z(),l=E("audio"),a=Z(),i=E("audio"),v=Z(),g=E("audio"),b=Z(),m=E("audio"),this.h()},l(_){e=q(_,"AUDIO",{src:!0}),p(e).forEach(u),s=x(_),l=q(_,"AUDIO",{src:!0}),p(l).forEach(u),a=x(_),i=q(_,"AUDIO",{src:!0}),p(i).forEach(u),v=x(_),g=q(_,"AUDIO",{src:!0}),p(g).forEach(u),b=x(_),m=q(_,"AUDIO",{src:!0}),p(m).forEach(u),this.h()},h(){$e(e.src,n="/click.mp3")||o(e,"src",n),$e(l.src,r="/clack.mp3")||o(l,"src",r),$e(i.src,f="/failed.mp3")||o(i,"src",f),$e(g.src,k="/ding.wav")||o(g,"src",k),$e(m.src,h="/tng_transporter9.mp3")||o(m,"src",h)},m(_,$){D(_,e,$),t[0](e),D(_,s,$),D(_,l,$),t[1](l),D(_,a,$),D(_,i,$),t[2](i),D(_,v,$),D(_,g,$),t[3](g),D(_,b,$),D(_,m,$),t[4](m)},p:Y,i:Y,o:Y,d(_){_&&u(e),t[0](null),_&&u(s),_&&u(l),t[1](null),_&&u(a),_&&u(i),t[2](null),_&&u(v),_&&u(g),t[3](null),_&&u(b),_&&u(m),t[4](null)}}}let st=null,rt=null,Ve=null,Be=null,We=null,ve=null,Fe=[];var oe=(t=>(t[t.rightLetter=0]="rightLetter",t[t.wrongLetter=1]="wrongLetter",t[t.failedGoals=2]="failedGoals",t[t.passedGoals=3]="passedGoals",t[t.lessonsDone=4]="lessonsDone",t))(oe||{});function Mt(){ve==Be||ve==Ve||ve==We||ve&&(ve.currentTime=0)}function _e(t){Fe.length==0&&(Fe=[st,rt,Ve,Be,We],console.log(Fe)),Mt();let e=Fe[t];e.play(),ve=e}function It(t,e,n){function s(f){pe[f?"unshift":"push"](()=>{st=f})}function l(f){pe[f?"unshift":"push"](()=>{rt=f})}function r(f){pe[f?"unshift":"push"](()=>{Ve=f})}function a(f){pe[f?"unshift":"push"](()=>{Be=f})}function i(f){pe[f?"unshift":"push"](()=>{We=f})}return[s,l,r,a,i]}class Dt extends ke{constructor(e){super(),Ee(this,e,It,wt,qe,{})}}function Pt(t,e,n){const s=t.slice();return s[8]=e[n],s}function Ft(t,e,n){const s=t.slice();return s[11]=e[n],s}function At(t){let e,n,s;return{c(){e=T("g"),n=T("line"),s=T("line"),this.h()},l(l){e=O(l,"g",{transform:!0});var r=p(e);n=O(r,"line",{class:!0,y1:!0,y2:!0}),p(n).forEach(u),s=O(r,"line",{class:!0,y1:!0,y2:!0}),p(s).forEach(u),r.forEach(u),this.h()},h(){o(n,"class","minor svelte-1sed7qq"),o(n,"y1","35"),o(n,"y2","38"),o(s,"class","minor-inner svelte-1sed7qq"),o(s,"y1","20"),o(s,"y2","23"),o(e,"transform","rotate("+6*(t[8]+t[11])+")")},m(l,r){D(l,e,r),c(e,n),c(e,s)},p:Y,d(l){l&&u(e)}}}function St(t){let e,n,s,l,r=[1,2,3,4],a=[];for(let i=0;i<4;i+=1)a[i]=At(Ft(t,r,i));return{c(){e=T("g"),n=T("line"),s=T("line");for(let i=0;i<4;i+=1)a[i].c();l=be(),this.h()},l(i){e=O(i,"g",{transform:!0});var f=p(e);n=O(f,"line",{class:!0,y1:!0,y2:!0}),p(n).forEach(u),s=O(f,"line",{class:!0,y1:!0,y2:!0}),p(s).forEach(u),f.forEach(u);for(let v=0;v<4;v+=1)a[v].l(i);l=be(),this.h()},h(){o(n,"class","major svelte-1sed7qq"),o(n,"y1","35"),o(n,"y2","45"),o(s,"class","minor-inner svelte-1sed7qq"),o(s,"y1","20"),o(s,"y2","23"),o(e,"transform","rotate("+30*t[8]+")")},m(i,f){D(i,e,f),c(e,n),c(e,s);for(let v=0;v<4;v+=1)a[v].m(i,f);D(i,l,f)},p:Y,d(i){i&&u(e),Ce(a,i),i&&u(l)}}}function Tt(t){let e,n,s,l,r,a,i,f,v,g,k,b,m,h,_,$,P,L,U,C,S,ee=[0,5,10,15,20,25,30,35,40,45,50,55],H=[];for(let w=0;w<12;w+=1)H[w]=St(Pt(t,ee,w));return{c(){e=T("svg"),n=T("circle"),s=T("circle");for(let w=0;w<12;w+=1)H[w].c();l=T("g"),r=T("line"),a=T("line"),i=T("circle"),v=T("g"),g=T("line"),k=T("circle"),m=T("line"),h=T("circle"),P=T("g"),L=T("line"),U=T("line"),C=T("circle"),this.h()},l(w){e=O(w,"svg",{viewBox:!0,class:!0});var B=p(e);n=O(B,"circle",{class:!0,r:!0,style:!0}),p(n).forEach(u),s=O(B,"circle",{class:!0,r:!0,style:!0}),p(s).forEach(u);for(let J=0;J<12;J+=1)H[J].l(B);l=O(B,"g",{transform:!0});var z=p(l);r=O(z,"line",{class:!0,y1:!0,y2:!0}),p(r).forEach(u),a=O(z,"line",{class:!0,y1:!0,y2:!0}),p(a).forEach(u),i=O(z,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),p(i).forEach(u),z.forEach(u),v=O(B,"g",{transform:!0});var X=p(v);g=O(X,"line",{class:!0,y1:!0,y2:!0}),p(g).forEach(u),k=O(X,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),p(k).forEach(u),m=O(X,"line",{class:!0,y1:!0,y2:!0}),p(m).forEach(u),h=O(X,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),p(h).forEach(u),X.forEach(u),P=O(B,"g",{transform:!0});var Q=p(P);L=O(Q,"line",{class:!0,y1:!0,y2:!0}),p(L).forEach(u),U=O(Q,"line",{class:!0,y1:!0,y2:!0}),p(U).forEach(u),C=O(Q,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),p(C).forEach(u),Q.forEach(u),B.forEach(u),this.h()},h(){o(n,"class","clock-face-outer svelte-1sed7qq"),o(n,"r","40"),se(n,"fill-opacity",".25"),o(s,"class","clock-face-inner svelte-1sed7qq"),o(s,"r","20"),se(s,"fill-opacity",".25"),o(r,"class","hour svelte-1sed7qq"),o(r,"y1","-33"),o(r,"y2","-40"),o(a,"class","hour-counterweight svelte-1sed7qq"),o(a,"y1","-45"),o(a,"y2","-50"),o(i,"class","hour svelte-1sed7qq"),o(i,"r","4"),o(i,"cx","0"),o(i,"cy","-29"),se(i,"fill-opacity",".25"),o(l,"transform",f="rotate("+30*t[2]+")"),o(g,"class","minute svelte-1sed7qq"),o(g,"y1","0"),o(g,"y2","-20"),o(k,"class","minute svelte-1sed7qq"),o(k,"r",b=9*(1-Math.cos(t[0]/30*Math.PI))),o(k,"cx","0"),o(k,"cy","0"),se(k,"fill-opacity",".05"),o(m,"class","minute-counterweight svelte-1sed7qq"),o(m,"y1","-15"),o(m,"y2","-17"),o(h,"class","minute svelte-1sed7qq"),o(h,"r",_=3*(1+Math.cos(t[0]/30*Math.PI))),o(h,"cx","0"),o(h,"cy","-29"),se(h,"fill-opacity",".25"),o(v,"transform",$="rotate("+6*t[1]+")"),o(L,"class","second-counterweight svelte-1sed7qq"),o(L,"y1","-34"),o(L,"y2","-45"),o(U,"class","second svelte-1sed7qq"),o(U,"y1","-24"),o(U,"y2","-19.5"),o(C,"class","second svelte-1sed7qq"),o(C,"r","5"),o(C,"cx","0"),o(C,"cy","-29"),se(C,"fill-opacity",".25"),o(P,"transform",S="rotate("+6*t[0]+")"),o(e,"viewBox","-50 -50 100 100"),o(e,"class","svelte-1sed7qq")},m(w,B){D(w,e,B),c(e,n),c(e,s);for(let z=0;z<12;z+=1)H[z].m(e,null);c(e,l),c(l,r),c(l,a),c(l,i),c(e,v),c(v,g),c(v,k),c(v,m),c(v,h),c(e,P),c(P,L),c(P,U),c(P,C)},p(w,[B]){B&4&&f!==(f="rotate("+30*w[2]+")")&&o(l,"transform",f),B&1&&b!==(b=9*(1-Math.cos(w[0]/30*Math.PI)))&&o(k,"r",b),B&1&&_!==(_=3*(1+Math.cos(w[0]/30*Math.PI)))&&o(h,"r",_),B&2&&$!==($="rotate("+6*w[1]+")")&&o(v,"transform",$),B&1&&S!==(S="rotate("+6*w[0]+")")&&o(P,"transform",S)},i:Y,o:Y,d(w){w&&u(e),Ce(H,w)}}}function Ot(t,e,n){let s,l,r,a=new Date;ct(()=>{const v=setInterval(()=>{n(5,a=new Date)},100);return()=>{clearInterval(v)}});function i(){}function f(){}return t.$$.update=()=>{t.$$.dirty&32&&n(2,s=a.getHours()),t.$$.dirty&32&&n(1,l=a.getMinutes()),t.$$.dirty&32&&n(0,r=a.getSeconds()),t.$$.dirty&32&&a.getMilliseconds()},[r,l,s,i,f,a]}class Lt extends ke{constructor(e){super(),Ee(this,e,Ot,Tt,qe,{startTimer:3,stopTimer:4})}get startTimer(){return this.$$.ctx[3]}get stopTimer(){return this.$$.ctx[4]}}function Ye(t,e,n){const s=t.slice();return s[33]=e[n],s}function Vt(t){let e,n=t[33].chars+"",s,l;return{c(){e=E("span"),s=W(n),this.h()},l(r){e=q(r,"SPAN",{class:!0});var a=p(e);s=G(a,n),a.forEach(u),this.h()},h(){o(e,"class",l=ne("font-sans "+t[33].class)+" svelte-kfa4fq")},m(r,a){D(r,e,a),c(e,s)},p(r,a){a[0]&32&&n!==(n=r[33].chars+"")&&ge(s,n),a[0]&32&&l!==(l=ne("font-sans "+r[33].class)+" svelte-kfa4fq")&&o(e,"class",l)},d(r){r&&u(e)}}}function Bt(t){let e,n=t[33].chars+"",s,l;return{c(){e=E("span"),s=W(n),this.h()},l(r){e=q(r,"SPAN",{class:!0});var a=p(e);s=G(a,n),a.forEach(u),this.h()},h(){o(e,"class",l=ne("font-sans "+t[33].class+" "+t[10][t[9].typingChar])+" svelte-kfa4fq")},m(r,a){D(r,e,a),c(e,s)},p(r,a){a[0]&32&&n!==(n=r[33].chars+"")&&ge(s,n),a[0]&32&&l!==(l=ne("font-sans "+r[33].class+" "+r[10][r[9].typingChar])+" svelte-kfa4fq")&&o(e,"class",l)},d(r){r&&u(e)}}}function je(t){let e;function n(r,a){return r[33].typing?Bt:Vt}let s=n(t),l=s(t);return{c(){l.c(),e=be()},l(r){l.l(r),e=be()},m(r,a){l.m(r,a),D(r,e,a)},p(r,a){s===(s=n(r))&&l?l.p(r,a):(l.d(1),l=s(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&u(e)}}}function Wt(t){let e,n,s,l,r,a,i,f,v,g=t[0].currentOptions.phrases.length+"",k,b,m,h,_,$,P,L,U,C,S,ee,H,w,B=t[12]()+"",z,X,Q,J,te,ce,le,fe,y,V,F,R,K,N=t[5],M=[];for(let d=0;d<N.length;d+=1)M[d]=je(Ye(t,N,d));return te=new Lt({}),le=new Dt({}),V=new $t({}),{c(){e=E("div"),n=E("h3");for(let d=0;d<M.length;d+=1)M[d].c();s=Z(),l=E("h4"),r=E("div"),a=E("strong"),i=W("Lesson "),f=W(t[3]),v=W(" / "),k=W(g),b=Z(),m=E("h4"),h=E("div"),_=W("WPM: "),$=W(t[1]),P=Z(),L=E("div"),U=W("Accuracy: "),C=W(t[2]),S=W("%"),ee=Z(),H=E("div"),w=W("Average WPM: "),z=W(B),Q=Z(),J=E("div"),we(te.$$.fragment),ce=Z(),we(le.$$.fragment),fe=Z(),y=E("div"),we(V.$$.fragment),this.h()},l(d){e=q(d,"DIV",{id:!0,class:!0,tabindex:!0});var I=p(e);n=q(I,"H3",{class:!0});var A=p(n);for(let Te=0;Te<M.length;Te+=1)M[Te].l(A);A.forEach(u),s=x(I),l=q(I,"H4",{class:!0});var j=p(l);r=q(j,"DIV",{});var re=p(r);a=q(re,"STRONG",{});var ie=p(a);i=G(ie,"Lesson "),f=G(ie,t[3]),v=G(ie," / "),k=G(ie,g),ie.forEach(u),re.forEach(u),j.forEach(u),b=x(I),m=q(I,"H4",{class:!0});var he=p(m);h=q(he,"DIV",{});var Ae=p(h);_=G(Ae,"WPM: "),$=G(Ae,t[1]),Ae.forEach(u),P=x(he),L=q(he,"DIV",{});var Pe=p(L);U=G(Pe,"Accuracy: "),C=G(Pe,t[2]),S=G(Pe,"%"),Pe.forEach(u),ee=x(he),H=q(he,"DIV",{});var Se=p(H);w=G(Se,"Average WPM: "),z=G(Se,B),Se.forEach(u),he.forEach(u),I.forEach(u),Q=x(d),J=q(d,"DIV",{});var Ge=p(J);Me(te.$$.fragment,Ge),Ge.forEach(u),ce=x(d),Me(le.$$.fragment,d),fe=x(d),y=q(d,"DIV",{});var ze=p(y);Me(V.$$.fragment,ze),ze.forEach(u),this.h()},h(){o(n,"class","svelte-kfa4fq"),o(l,"class","flex place-content-evenly gap-x-3 mt-6 svelte-kfa4fq"),o(m,"class","flex place-content-evenly gap-x-3 mt-0 svelte-kfa4fq"),o(e,"id","textZone"),o(e,"class",X=ne(t[4]?"font-sans textFocus textZone":"font-sans textBlur textZone")+" svelte-kfa4fq"),o(e,"tabindex","-1")},m(d,I){D(d,e,I),c(e,n);for(let A=0;A<M.length;A+=1)M[A].m(n,null);c(e,s),c(e,l),c(l,r),c(r,a),c(a,i),c(a,f),c(a,v),c(a,k),c(e,b),c(e,m),c(m,h),c(h,_),c(h,$),c(m,P),c(m,L),c(L,U),c(L,C),c(L,S),c(m,ee),c(m,H),c(H,w),c(H,z),D(d,Q,I),D(d,J,I),Ie(te,J,null),D(d,ce,I),Ie(le,d,I),D(d,fe,I),D(d,y,I),Ie(V,y,null),F=!0,R||(K=[ue(window,"keydown",t[11]),ue(e,"focus",t[16]),ue(e,"blur",t[15]),ue(e,"mouseover",t[13]),ue(e,"mouseleave",t[14])],R=!0)},p(d,I){if(I[0]&1568){N=d[5];let A;for(A=0;A<N.length;A+=1){const j=Ye(d,N,A);M[A]?M[A].p(j,I):(M[A]=je(j),M[A].c(),M[A].m(n,null))}for(;A<M.length;A+=1)M[A].d(1);M.length=N.length}(!F||I[0]&8)&&ge(f,d[3]),(!F||I[0]&1)&&g!==(g=d[0].currentOptions.phrases.length+"")&&ge(k,g),(!F||I[0]&2)&&ge($,d[1]),(!F||I[0]&4)&&ge(C,d[2]),(!F||I[0]&16&&X!==(X=ne(d[4]?"font-sans textFocus textZone":"font-sans textBlur textZone")+" svelte-kfa4fq"))&&o(e,"class",X)},i(d){F||(me(te.$$.fragment,d),me(le.$$.fragment,d),me(V.$$.fragment,d),F=!0)},o(d){ye(te.$$.fragment,d),ye(le.$$.fragment,d),ye(V.$$.fragment,d),F=!1},d(d){d&&u(e),Ce(M,d),d&&u(Q),d&&u(J),De(te),d&&u(ce),De(le,d),d&&u(fe),d&&u(y),De(V),R=!1,ft(K)}}}function Gt(t){for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}function zt(t,e){for(;t.length%e>0;){let n=Math.floor(Math.random()*(t.length-1));t.push(t[n])}}function Nt(t,e,n){let s,l,r;const{data:a,settings:i,sources:f}=ht;Oe(t,a,y=>n(0,s=y)),Oe(t,i,y=>n(24,l=y)),Oe(t,f,y=>n(25,r=y));let v="",g="",k=0,b=0,m=0,h=0,_=0,$=0,P=!1;function L(){let y=s.currentOptions;y.phrases=U(y.combination,y.repetition,y.filter),v=y.phrases[0]||"",y.phrasesCurrentIndex=0,z()}function U(y,V,F){let K=s.currentOptions.scope,N=r.source[s.source];if(N==null&&(N=r.source[dt.bigrams]),K&&(N=N.slice(0,K)),F.length>0){let I=F.split(`
`);N=N.filter(function(A){for(let j of I){let re=!0;for(let ie of j)if(!A.includes(ie)){re=!1;break}if(re)return!0}return!1})}let M=_t(N);Gt(M),zt(M,y);let d=[];for(;M.length;){let A=M.slice(0,y).join(" "),j=[];for(let re=0;re<V;re++)j.push(A);d.push(j.join(" ")),M.splice(0,y)}return d}const C={untoldChar:0,normalChar:1,typingChar:2,betterChar:3,failedChar:4,remedyChar:5};let S=[];const ee=["","normalChar","typingChar","betterChar","failedChar","remedyChar"];let H=[];function w(){let y=C.untoldChar,V=!1,F={class:ee[C.typingChar],chars:"",typing:!1},R=[],K=g.length,N=S.length;for(let M=0;M<N;M++){let d=S[M];M>K&&(d=C.normalChar);let I=M==K;(d!=y||I!=V)&&(y=d,V=I,F={class:ee[y],chars:"",typing:I},R.push(F));let A=v[M];A==" "?F.chars+=" ":A=="&"?F.chars+="&":A===void 0||(F.chars+=A)}n(5,H=R)}function B(y){if(!P)return;if(y.preventDefault(),g.length==0&&(k=Date.now()/1e3),g.length>v.length){g=g.slice(0,-1),l.sounds[de.wrongletter]&&_e(oe.wrongLetter);return}let V=y.key;if(y.ctrlKey&&V==="Backspace"){z();return}if(V==="Backspace"){g=g.slice(0,-1),w(),g.length==0&&z();return}if(V==="Dead"||V.length>1)return;g+=V;let F=g.length-1;if(S.length<g.length){let R=S.length;S.length=g.length,S.fill(C.normalChar,R,F)}if(V==v[F]?S[F]==C.normalChar||S[F]==C.typingChar?S[F]=C.betterChar:S[F]=C.remedyChar:S[F]=C.failedChar,g=g.trimStart(),!!g.length)if(v.startsWith(g)?(l.sounds[de.rightletter]&&_e(oe.rightLetter),b+=1):v!==g.trimEnd()&&(l.sounds[de.wrongletter]&&_e(oe.wrongLetter),m+=1),g.trimEnd()===v){let R=Date.now()/1e3;if(n(1,h=Math.round((b+m)/5/(R-k)*60)),n(2,_=Math.round(b/(b+m)*100)),h<l.minimumWPM||_<l.minimumAccuracy){l.sounds[de.failedGoals]&&_e(oe.failedGoals),z();return}let K=s.currentOptions;K.phrasesCurrentIndex==0&&(K.WPMs=[]),K.WPMs.push(h),l.sounds[de.passedGoals]&&_e(oe.passedGoals),X()}else w()}function z(){b=0,m=0,g="",S.length=v.length,S=S.fill(C.normalChar,0,v.length),S[0]=C.typingChar,w(),n(3,$=s.currentOptions.phrasesCurrentIndex)}function X(){let y=s.currentOptions;y.phrases.length>y.phrasesCurrentIndex+1?(y.phrasesCurrentIndex+=1,v=y.phrases[y.phrasesCurrentIndex],z()):(l.sounds[de.lessonsDone]&&_e(oe.lessonsDone),qt(),L())}function Q(){let y=s.currentOptions;if(y.WPMs.length==0)return 0;let F=y.WPMs.reduce(function(R,K){return R+K},0)/y.WPMs.length;return Math.round(F)}function J(y){L()}function te(y){n(4,P=!0)}function ce(y){n(4,P=!1)}function le(y){n(4,P=!1)}function fe(y){n(4,P=!0)}return t.$$.update=()=>{t.$$.dirty[0]&1&&J()},[s,h,_,$,P,H,a,i,f,C,ee,B,Q,te,ce,le,fe]}class Ut extends ke{constructor(e){super(),Ee(this,e,Nt,Wt,qe,{},null,[-1,-1])}}function Zt(t){let e,n,s,l,r,a,i,f,v,g,k,b,m;return v=new Ut({}),b=new gt({}),{c(){e=E("div"),n=E("div"),s=E("div"),l=W("Use this link instead: "),r=E("a"),a=W("https://xgrams.vercel.app/"),i=Z(),f=E("div"),we(v.$$.fragment),g=Z(),k=E("div"),we(b.$$.fragment),this.h()},l(h){e=q(h,"DIV",{class:!0});var _=p(e);n=q(_,"DIV",{class:!0});var $=p(n);s=q($,"DIV",{class:!0});var P=p(s);l=G(P,"Use this link instead: "),r=q(P,"A",{href:!0});var L=p(r);a=G(L,"https://xgrams.vercel.app/"),L.forEach(u),i=x(P),f=q(P,"DIV",{});var U=p(f);Me(v.$$.fragment,U),U.forEach(u),g=x(P),k=q(P,"DIV",{});var C=p(k);Me(b.$$.fragment,C),C.forEach(u),P.forEach(u),$.forEach(u),_.forEach(u),this.h()},h(){o(r,"href","https://xgrams.vercel.app/"),o(s,"class","space-y-2"),o(n,"class","space-y-10 text-center"),o(e,"class","container h-full mx-auto flex justify-center items-center")},m(h,_){D(h,e,_),c(e,n),c(n,s),c(s,l),c(s,r),c(r,a),c(s,i),c(s,f),Ie(v,f,null),c(s,g),c(s,k),Ie(b,k,null),m=!0},p:Y,i(h){m||(me(v.$$.fragment,h),me(b.$$.fragment,h),m=!0)},o(h){ye(v.$$.fragment,h),ye(b.$$.fragment,h),m=!1},d(h){h&&u(e),De(v),De(b)}}}class Kt extends ke{constructor(e){super(),Ee(this,e,null,Zt,qe,{})}}export{Kt as default};
